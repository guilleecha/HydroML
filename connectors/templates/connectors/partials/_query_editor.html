<!-- Query Editor -->
<div class="bg-background-primary border border-border-default rounded-lg p-4 mb-6">
    <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-semibold text-foreground-default">Editor SQL</h3>
        <div class="flex space-x-2">
            <button type="button" 
                    onclick="formatQuery()" 
                    class="px-3 py-1 text-sm bg-background-secondary hover:bg-background-tertiary border border-border-default rounded transition-colors">
                Formatear
            </button>
            <button type="button" 
                    onclick="previewQuery()" 
                    class="px-3 py-1 text-sm bg-brand-600 hover:bg-brand-700 text-white rounded transition-colors">
                Vista Previa
            </button>
        </div>
    </div>
    
    <textarea 
        id="query-editor" 
        name="sql_query" 
        class="query-editor w-full p-4" 
        placeholder="SELECT * FROM table_name WHERE condition..."
        rows="8">{{ form.sql_query.value|default:'' }}</textarea>
    
    <div class="mt-2 flex items-center justify-between">
        <div class="text-xs text-foreground-muted">
            Tip: Haz clic en las tablas y columnas de la izquierda para insertarlas
        </div>
        <div id="query-status" class="text-xs"></div>
    </div>
</div>