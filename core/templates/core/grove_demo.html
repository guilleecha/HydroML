{% extends "core/layouts/base_layout.html" %}
{% load static %}

{% block page_title %}Grove Demo{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/design-tokens.css' %}">
<link rel="stylesheet" href="{% static 'core/css/components/grove-button.css' %}">
{% endblock %}

{% block extra_head %}
<!-- Grove Theme Components -->
<style>
/* Grove Card Component */
.grove-card {
  background-color: var(--grove-bg-surface);
  border: 1px solid var(--grove-border-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-card);
  overflow: hidden;
  transition: var(--transition-shadow);
}

.grove-card:hover {
  box-shadow: var(--shadow-md);
}

.grove-card-header {
  padding: var(--space-6) var(--space-6) var(--space-4) var(--space-6);
  border-bottom: 1px solid var(--grove-border-primary);
  background-color: var(--grove-bg-secondary);
}

.grove-card-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--grove-text-primary);
  line-height: var(--line-height-tight);
  margin: 0;
}

.grove-card-content {
  padding: var(--space-6);
}

/* Grove Input Component */
.grove-input-container {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.grove-input-label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--grove-text-secondary);
}

.grove-input-field {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--grove-border-primary);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-family: var(--font-family-sans);
  color: var(--grove-text-primary);
  background-color: var(--grove-bg-surface);
  transition: var(--transition-colors);
}

.grove-input-field:focus {
  outline: none;
  border-color: var(--grove-border-focus);
  box-shadow: var(--shadow-focus);
}

.grove-input-help {
  font-size: var(--font-size-xs);
  color: var(--grove-text-tertiary);
}

/* Grove Table Component */
.grove-table-container {
  overflow-x: auto;
  border-radius: var(--radius-lg);
  border: 1px solid var(--grove-border-primary);
}

.grove-table {
  width: 100%;
  border-collapse: collapse;
}

.grove-table-header {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--grove-text-tertiary);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
  background-color: var(--grove-bg-secondary);
  border-bottom: 1px solid var(--grove-border-primary);
}

.grove-table-row {
  border-bottom: 1px solid var(--grove-border-primary);
  transition: var(--transition-colors);
}

.grove-table-row:hover {
  background-color: var(--grove-bg-tertiary);
}

.grove-table-cell {
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-sm);
  color: var(--grove-text-primary);
}

/* Grove Badge Component */
.grove-badge {
  display: inline-flex;
  align-items: center;
  padding: var(--space-1) var(--space-2-5);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-full);
}

.grove-badge--default {
  background-color: var(--grove-gray-100);
  color: var(--grove-gray-800);
}

.grove-badge--success {
  background-color: var(--grove-success-subtle);
  color: var(--grove-success);
}

.grove-badge--warning {
  background-color: var(--grove-warning-subtle);
  color: var(--grove-warning);
}

.grove-badge--error {
  background-color: var(--grove-error-subtle);
  color: var(--grove-error);
}

.grove-badge--info {
  background-color: var(--grove-info-subtle);
  color: var(--grove-info);
}

.grove-badge--purple {
  background-color: var(--grove-purple-50);
  color: var(--grove-purple-800);
}

.grove-badge--pink {
  background-color: var(--grove-pink-50);
  color: var(--grove-pink-800);
}

/* Grove Tab System */
.grove-tabs-container {
  width: 100%;
}

.grove-tabs-list {
  display: flex;
  border-bottom: 1px solid var(--grove-border-primary);
  overflow-x: auto;
}

.grove-tab {
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--grove-text-tertiary);
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: var(--transition-colors);
  white-space: nowrap;
}

.grove-tab:hover {
  color: var(--grove-text-secondary);
  border-bottom-color: var(--grove-border-secondary);
}

.grove-tab.active {
  color: var(--grove-text-primary);
  border-bottom-color: var(--grove-text-primary);
}

.grove-tab-panel {
  display: none;
  padding-top: var(--space-6);
}

.grove-tab-panel.active {
  display: block;
}

/* Grove Input with Icon */
.grove-input-with-icon {
  position: relative;
}

.grove-input-with-icon .grove-input-field {
  padding-left: var(--space-10);
}

.grove-input-icon {
  position: absolute;
  left: var(--space-3);
  top: 50%;
  transform: translateY(-50%);
  color: var(--grove-text-tertiary);
  pointer-events: none;
}

/* Responsive Design */
@media (max-width: 768px) {
  .grove-project-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }
  
  .grove-project-info {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }
  
  .grove-project-actions {
    flex-direction: column;
    width: 100%;
    gap: var(--space-2);
  }
  
  .grove-project-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }
  
  .grove-project-icon {
    width: 3rem;
    height: 3rem;
  }
}

@media (max-width: 640px) {
  .grove-project-actions .grove-btn {
    width: 100%;
    justify-content: center;
  }
  
  .grove-project-meta span {
    font-size: var(--font-size-xs);
  }
}
</style>
{% endblock %}

{% block main_content %}

<!-- Grove Project Context Bar -->
<div class="border-b bg-gradient-to-r style="border-color: var(--grove-border-primary); background: linear-gradient(to right, var(--grove-bg-primary), var(--grove-bg-secondary));">
  <div class="container mx-auto px-4">
    
    <!-- Breadcrumb -->
    <div class="py-3 border-b style="border-color: var(--grove-border-primary);">
      <nav class="flex items-center space-x-2 text-sm style="color: var(--grove-text-tertiary);">
        <a href="{% url 'core:dashboard' %}" class="hover:text-primary transition-colors">
          Workspace
        </a>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
        <span class="font-medium style="color: var(--grove-text-primary);">Grove Design System</span>
      </nav>
    </div>
    
    <!-- Project Header -->
    <div class="py-6">
      <div class="grove-project-header flex items-start justify-between">
        <div class="grove-project-info flex items-center space-x-4">
          <!-- Project Icon -->
          <div class="grove-project-icon w-16 h-16 rounded-xl border style="background-color: var(--grove-bg-surface); border-color: var(--grove-border-primary);" flex items-center justify-center">
            <svg class="w-8 h-8 style="color: var(--grove-text-secondary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path>
            </svg>
          </div>
          
          <!-- Project Info -->
          <div>
            <h1 class="text-2xl font-bold mb-1 style="color: var(--grove-text-primary);">
              Grove Design System
            </h1>
            <p class="style="color: var(--grove-text-secondary);" max-w-2xl">
              Professional monochromatic design system with comprehensive UI components inspired by machine learning trees and natural growth
            </p>
            
            <!-- Project Meta -->
            <div class="grove-project-meta flex items-center space-x-6 mt-3 text-sm style="color: var(--grove-text-tertiary);">
              <span class="flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                </svg>
                15 Components
              </span>
              <span class="flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Production Ready
              </span>
              <span class="flex items-center">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Updated today
              </span>
            </div>
          </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="grove-project-actions flex items-center space-x-3">
          <a href="{% url 'core:component_demo' %}" 
             class="grove-btn grove-btn--secondary grove-btn--sm">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
            </svg>
            Base Components
          </a>
          <a href="{% url 'core:theme_demo' %}" 
             class="grove-btn grove-btn--secondary grove-btn--sm">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path>
            </svg>
            Theme System
          </a>
          <button class="grove-btn grove-btn--primary grove-btn--sm">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
            New Component
          </button>
        </div>
      </div>
    </div>
    
  </div>
</div>

<!-- Main Content Container -->
<div class="container mx-auto px-4 py-8">

  <!-- Grove Component Categories Navigation -->
  <div class="mb-8" x-data="{ activeTab: 0, setActiveTab(index) { this.activeTab = index; } }">
    <div class="grove-tabs-container">
      <div role="tablist" class="grove-tabs-list">
        <button role="tab" 
                class="grove-tab"
                :class="activeTab === 0 ? 'active' : ''"
                @click="setActiveTab(0)">
          Form Components
        </button>
        <button role="tab" 
                class="grove-tab"
                :class="activeTab === 1 ? 'active' : ''"
                @click="setActiveTab(1)">
          Data Display
        </button>
        <button role="tab" 
                class="grove-tab"
                :class="activeTab === 2 ? 'active' : ''"
                @click="setActiveTab(2)">
          Navigation
        </button>
        <button role="tab" 
                class="grove-tab"
                :class="activeTab === 3 ? 'active' : ''"
                @click="setActiveTab(3)">
          Feedback
        </button>
        <button role="tab" 
                class="grove-tab"
                :class="activeTab === 4 ? 'active' : ''"
                @click="setActiveTab(4)">
          Interactive
        </button>
      </div>

      <div class="grove-tab-panels">
        <!-- Form Components Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             :class="activeTab === 0 ? 'active' : ''"
             x-show="activeTab === 0"
             x-cloak>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            
            <!-- Grove Input Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Input</h3>
              </div>
              <div class="grove-card-content space-y-4">
                <div x-data="{ value: '', focused: false, handleFocus() { this.focused = true; }, handleBlur() { this.focused = false; } }" class="space-y-3">
                  <div class="grove-input-container">
                    <label class="grove-input-label" for="email-input">
                      Email Address
                    </label>
                    <div class="grove-input-with-icon">
                      <div class="grove-input-icon" aria-hidden="true">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 7.89a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                      </div>
                      <input type="email" 
                             id="email-input"
                             class="grove-input-field"
                             placeholder="Enter your email"
                             x-model="value"
                             @focus="handleFocus"
                             @blur="handleBlur"
                             aria-describedby="email-help">
                    </div>
                    <p id="email-help" class="grove-input-help">
                      Professional email input with validation
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Grove Button Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Button</h3>
              </div>
              <div class="grove-card-content space-y-4">
                <div class="space-y-3">
                  <button class="grove-btn grove-btn--primary grove-btn--full">
                    Primary Button
                  </button>
                  <button class="grove-btn grove-btn--secondary grove-btn--full">
                    Secondary Button
                  </button>
                  <button class="grove-btn grove-btn--ghost grove-btn--full">
                    Ghost Button
                  </button>
                </div>
                <p class="grove-input-help">
                  Monochromatic button variants with subtle styling
                </p>
              </div>
            </div>

            <!-- Grove Badge Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Badge</h3>
              </div>
              <div class="grove-card-content space-y-4">
                <div class="flex flex-wrap gap-2">
                  <span class="grove-badge grove-badge--default">Default</span>
                  <span class="grove-badge grove-badge--success">Success</span>
                  <span class="grove-badge grove-badge--warning">Warning</span>
                  <span class="grove-badge grove-badge--error">Error</span>
                </div>
                <div class="flex flex-wrap gap-2">
                  <span class="grove-badge grove-badge--purple">Purple</span>
                  <span class="grove-badge grove-badge--pink">Pink</span>
                  <span class="grove-badge grove-badge--info">Info</span>
                  <span class="grove-badge grove-badge--default">Teal</span>
                </div>
                <p class="grove-input-help">
                  Pastel color badges for classification and tagging
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Data Display Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             x-show="activeTab === 1"
             x-cloak>
          
          <div class="space-y-6">
            
            <!-- Grove Table Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Table</h3>
              </div>
              <div class="grove-card-content">
                <div class="grove-table-container overflow-x-auto">
                  <table class="grove-table w-full">
                    <thead>
                      <tr>
                        <th class="grove-table-header ">
                          Name
                        </th>
                        <th class="grove-table-header ">
                          Status
                        </th>
                        <th class="grove-table-header ">
                          Type
                        </th>
                        <th class="grove-table-header ">
                          Updated
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="grove-table-row ">
                        <td class="grove-table-cell ">Dataset Alpha</td>
                        <td class="grove-table-cell ">
                          <span class="grove-badge grove-badge--success">Active</span>
                        </td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">CSV</td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">2 hours ago</td>
                      </tr>
                      <tr class="grove-table-row ">
                        <td class="grove-table-cell ">Model Beta</td>
                        <td class="grove-table-cell ">
                          <span class="grove-badge grove-badge--warning">Training</span>
                        </td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">ML Model</td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">1 day ago</td>
                      </tr>
                      <tr class="grove-table-row ">
                        <td class="grove-table-cell ">Experiment Gamma</td>
                        <td class="grove-table-cell ">
                          <span class="grove-badge grove-badge--default">Draft</span>
                        </td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">Notebook</td>
                        <td class="grove-table-cell" style="color: var(--grove-text-secondary);">3 days ago</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <p class="text-xs mt-4" style="color: var(--grove-text-secondary);">
                  Professional data table with sorting, filtering, and responsive design
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             x-show="activeTab === 2"
             x-cloak>
          
          <div class="space-y-6">
            
            <!-- Grove Tabs Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Tabs</h3>
              </div>
              <div class="grove-card-content">
                <div x-data="{ activeNestedTab: 0 }">
                  <div class="flex border-b border-gray-200">
                    <button class="px-4 py-2 text-sm font-medium border-b-2 transition-colors"
                            :class="activeNestedTab === 0 ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-600 hover:text-gray-900'"
                            @click="activeNestedTab = 0">
                      Overview
                    </button>
                    <button class="px-4 py-2 text-sm font-medium border-b-2 transition-colors"
                            :class="activeNestedTab === 1 ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-600 hover:text-gray-900'"
                            @click="activeNestedTab = 1">
                      Details
                    </button>
                    <button class="px-4 py-2 text-sm font-medium border-b-2 transition-colors"
                            :class="activeNestedTab === 2 ? 'border-gray-900 text-gray-900' : 'border-transparent text-gray-600 hover:text-gray-900'"
                            @click="activeNestedTab = 2">
                      Settings
                    </button>
                  </div>
                  <div class="mt-4">
                    <div x-show="activeNestedTab === 0" class="text-sm text-gray-600">
                      Professional tab navigation with keyboard support and accessibility features.
                    </div>
                    <div x-show="activeNestedTab === 1" class="text-sm text-gray-600">
                      Detailed view with configurable behavior and responsive design.
                    </div>
                    <div x-show="activeNestedTab === 2" class="text-sm text-gray-600">
                      Configuration options for customizing tab appearance and behavior.
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Grove Headbar Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Headbar</h3>
              </div>
              <div class="grove-card-content">
                
                <!-- Demo Headbar -->
                <div class="border border-gray-200 rounded-lg overflow-hidden bg-gray-50 p-4">
                  <div x-data="WaveHeadbar.createAlpineData({
                      logoText: 'Grove Demo',
                      logoSrc: '/static/core/img/logos/grove_logo.svg',
                      showSearch: true,
                      showThemeToggle: true,
                      showNotifications: true,
                      showUserMenu: true,
                      notificationCount: 3,
                      userInitials: 'GD',
                      userName: 'Grove Demo',
                      navigationItems: [
                        { href: '#', text: 'Dashboard', active: true },
                        { href: '#', text: 'Workspaces', badge: '8' },
                        { href: '#', text: 'Data Sources', badge: '15' },
                        { href: '#', text: 'Experiments', badge: '2' }
                      ]
                  })" class="wave-headbar-demo">
                    <!-- Headbar rendered by Alpine.js using x-html -->
                    <div :class="headbarClasses" class="wave-headbar">
                      
                      <!-- Mobile Toggle -->
                      <div x-html="getMobileToggleHtml()" class="md:hidden"></div>
                      
                      <!-- Logo Section -->
                      <div x-html="getLogoHtml()" class="flex-shrink-0"></div>
                      
                      <!-- Desktop Navigation -->
                      <div class="hidden md:flex items-center space-x-4 flex-1">
                        <template x-for="item in navigationItems" :key="item.text">
                          <div class="flex items-center space-x-1">
                            <a :href="item.href" 
                               class="nav-link"
                               :class="item.active ? 'active' : ''"
                               x-text="item.text"></a>
                            <span x-show="item.badge" 
                                  class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-grove-accent-100 text-grove-accent-700"
                                  x-text="item.badge"></span>
                          </div>
                        </template>
                      </div>
                      
                      <!-- Right Section -->
                      <div class="flex items-center space-x-2">
                        <!-- Search -->
                        <div x-show="showSearch" x-html="getSearchHtml()" class="hidden sm:block"></div>
                        
                        <!-- Theme Toggle -->
                        <div x-show="showThemeToggle" x-html="getThemeToggleHtml()"></div>
                        
                        <!-- Notifications -->
                        <div x-show="showNotifications" x-html="getNotificationsHtml()"></div>
                        
                        <!-- User Menu -->
                        <div x-show="showUserMenu" x-html="getUserMenuHtml()"></div>
                      </div>
                      
                      <!-- Mobile Menu -->
                      <div x-show="mobileMenuOpen" x-html="getMobileMenuHtml()" class="md:hidden"></div>
                    </div>
                  </div>
                </div>
                
                <!-- Configuration Panel -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                  <h4 class="text-sm font-medium text-gray-900 mb-3">Configuration Options</h4>
                  <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                      <label class="block text-gray-700 mb-1">Logo Text:</label>
                      <input type="text" value="Grove Demo" 
                             class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                      <label class="block text-gray-700 mb-1">Position:</label>
                      <select class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="sticky">Sticky</option>
                        <option value="static">Static</option>
                        <option value="fixed">Fixed</option>
                      </select>
                    </div>
                  </div>
                </div>
                
                <p class="text-xs text-gray-500 mt-4">
                  Professional navigation header with Grove design, responsive mobile menu, theme switching, 
                  user management, and notification system. Fully accessible with keyboard navigation.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Feedback Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             x-show="activeTab === 3"
             x-cloak>
          
          <div class="grid md:grid-cols-2 gap-6">
            
            <!-- GroveModal Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">GroveModal</h3>
              </div>
              <div class="grove-card-content space-y-4">
                <div class="space-y-3">
                  <button class="grove-btn grove-btn--primary grove-btn--full" 
                          onclick="showDemoModal()">
                    Open Modal
                  </button>
                  <button class="grove-btn grove-btn--secondary grove-btn--full" 
                          onclick="showConfirmModal()">
                    Confirm Dialog
                  </button>
                  <button class="grove-btn grove-btn--ghost grove-btn--full" 
                          onclick="showAlertModal()">
                    Alert Dialog
                  </button>
                </div>
                <p class="grove-input-help">
                  Accessible modals with focus management and keyboard navigation
                </p>
              </div>
            </div>

            <!-- GroveToast Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">GroveToast</h3>
              </div>
              <div class="grove-card-content space-y-4">
                <div class="space-y-3">
                  <button class="grove-btn grove-btn--primary grove-btn--full" 
                          onclick="showSuccessToast()">
                    Success Toast
                  </button>
                  <button class="grove-btn grove-btn--secondary grove-btn--full" 
                          onclick="showWarningToast()">
                    Warning Toast
                  </button>
                  <button class="grove-btn grove-btn--ghost grove-btn--full" 
                          onclick="showErrorToast()">
                    Error Toast
                  </button>
                </div>
                <p class="grove-input-help">
                  Global notification system with queuing and auto-dismiss
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Interactive Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             x-show="activeTab === 4"
             x-cloak>
          
          <div class="space-y-6">
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Interactive Components</h3>
              </div>
              <div class="grove-card-content">
                <p style="color: var(--grove-text-secondary);">
                  Additional interactive components like dropdowns, tooltips, and accordions will be demonstrated here.
                  The Grove library provides a comprehensive set of professional UI components with monochromatic design.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Implementation Guide -->
  <div class="grove-card">
    <div class="grove-card-header">
      <h3 class="grove-card-title">üõ†Ô∏è Implementation Guide</h3>
    </div>
    <div class="grove-card-content">
      
      <div class="grid md:grid-cols-2 gap-6">
        
        <!-- Installation -->
        <div>
          <h4 class="font-medium style="color: var(--grove-text-primary);" mb-3">Installation & Setup</h4>
          
          <pre class="style="background-color: var(--grove-bg-secondary);" rounded-lg p-4 text-sm overflow-x-auto"><code class="language-html">&lt;!-- Include Grove Components --&gt;
&lt;script src="{% static 'core/js/components/grove/grove-components.js' %}"&gt;&lt;/script&gt;

&lt;!-- Auto-initialize --&gt;
&lt;script&gt;
  document.addEventListener('DOMContentLoaded', () =&gt; {
    GroveComponents.instance.init({
      theme: 'light',
      animation: true
    });
  });
&lt;/script&gt;</code></pre>
        </div>

        <!-- Usage Examples -->
        <div>
          <h4 class="font-medium style="color: var(--grove-text-primary);" mb-3">Usage Examples</h4>
          
          <pre class="style="background-color: var(--grove-bg-secondary);" rounded-lg p-4 text-sm overflow-x-auto"><code class="language-html">&lt;!-- Auto-initialization with data attributes --&gt;
&lt;div data-grove="GroveButton" 
     data-grove-config='{"variant":"primary","size":"lg"}'&gt;
  Click me
&lt;/div&gt;

&lt;!-- Manual initialization --&gt;
&lt;script&gt;
  const button = Grove.createComponent('GroveButton', element, {
    variant: 'primary',
    onClick: () =&gt; console.log('Clicked!')
  });
&lt;/script&gt;</code></pre>
        </div>
      </div>

      <!-- Features List -->
      <div class="mt-6 pt-6 border-t border-border-default">
        <h4 class="font-medium style="color: var(--grove-text-primary);" mb-3">üéØ Key Features</h4>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="space-y-2">
            <h5 class="text-sm font-medium style="color: var(--grove-text-primary);">Design System</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ Monochromatic palette</li>
              <li>‚Ä¢ Pastel accent colors</li>
              <li>‚Ä¢ Professional appearance</li>
              <li>‚Ä¢ Theme system integration</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium style="color: var(--grove-text-primary);">Accessibility</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ ARIA compliant</li>
              <li>‚Ä¢ Keyboard navigation</li>
              <li>‚Ä¢ Focus management</li>
              <li>‚Ä¢ Screen reader friendly</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium style="color: var(--grove-text-primary);">Performance</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ Lightweight components</li>
              <li>‚Ä¢ Efficient animations</li>
              <li>‚Ä¢ Auto-initialization</li>
              <li>‚Ä¢ Memory optimized</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium style="color: var(--grove-text-primary);">Integration</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ Alpine.js compatible</li>
              <li>‚Ä¢ Django templates</li>
              <li>‚Ä¢ Tailwind CSS</li>
              <li>‚Ä¢ Component registry</li>
            </ul>
          </div>
        </div>

        <!-- Navigation Components Panel -->
        <div role="tabpanel" 
             class="grove-tab-panel"
             x-show="activeTab === 2"
             x-cloak>
          
          <div class="space-y-6">
            
            <!-- Grove Headbar Demo -->
            <div class="grove-card">
              <div class="grove-card-header">
                <h3 class="grove-card-title">Grove Headbar</h3>
              </div>
              <div class="grove-card-content">
                
                <!-- Demo Headbar -->
                <div class="border border-gray-200 rounded-lg overflow-hidden bg-gray-50 p-4">
                  <div x-data="WaveHeadbar.createAlpineData({
                      logoText: 'Grove Demo',
                      logoSrc: '/static/core/img/logos/grove_logo.svg',
                      showSearch: true,
                      showThemeToggle: true,
                      showNotifications: true,
                      showUserMenu: true,
                      notificationCount: 3,
                      userInitials: 'GD',
                      userName: 'Grove Demo',
                      navigationItems: [
                        { href: '#', text: 'Dashboard', active: true },
                        { href: '#', text: 'Workspaces', badge: '8' },
                        { href: '#', text: 'Data Sources', badge: '15' },
                        { href: '#', text: 'Experiments', badge: '2' }
                      ]
                    })" 
                       class="wave-headbar-demo">
                    
                    <!-- Headbar Structure -->
                    <header :class="headbarClasses">
                      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="flex items-center justify-between h-16">
                          
                          <!-- Logo and Mobile Toggle -->
                          <div class="flex items-center space-x-4">
                            <div x-html="getMobileToggleHtml()"></div>
                            <div x-html="getLogoHtml()"></div>
                          </div>
                          
                          <!-- Search (hidden on mobile) -->
                          <div class="hidden md:block flex-1 max-w-md mx-8" x-html="getSearchHtml()"></div>
                          
                          <!-- Actions -->
                          <div class="flex items-center space-x-2">
                            <div x-html="getThemeToggleHtml()"></div>
                            <div x-html="getNotificationsHtml()"></div>
                            <div x-html="getUserMenuHtml()"></div>
                          </div>
                        </div>
                      </div>
                      
                      <!-- Mobile Menu -->
                      <div x-html="getMobileMenuHtml()"></div>
                    </header>
                  </div>
                </div>
                
                <!-- Demo Controls -->
                <div class="mt-6 space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    
                    <!-- Theme Toggle Demo -->
                    <div class="space-y-2">
                      <label class="block text-sm font-medium text-gray-700">Theme Controls</label>
                      <div class="space-y-2">
                        <button onclick="demoThemeToggle()" 
                                class="w-full px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors">
                          Toggle Theme
                        </button>
                      </div>
                    </div>
                    
                    <!-- Notification Demo -->
                    <div class="space-y-2">
                      <label class="block text-sm font-medium text-gray-700">Notification Badge</label>
                      <div class="space-x-2">
                        <button onclick="demoNotificationUpdate(5)" 
                                class="px-3 py-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 rounded-md transition-colors">
                          Set 5
                        </button>
                        <button onclick="demoNotificationUpdate(0)" 
                                class="px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors">
                          Clear
                        </button>
                      </div>
                    </div>
                    
                    <!-- Position Demo -->
                    <div class="space-y-2">
                      <label class="block text-sm font-medium text-gray-700">Position</label>
                      <select onchange="demoPositionChange(this.value)" 
                              class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="sticky">Sticky</option>
                        <option value="static">Static</option>
                        <option value="fixed">Fixed</option>
                      </select>
                    </div>
                  </div>
                </div>
                
                <p class="text-xs text-gray-500 mt-4">
                  Professional navigation header with Grove design, responsive mobile menu, theme switching, 
                  user management, and notification system. Fully accessible with keyboard navigation.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Demo functions only - Alpine components are inline now

// Demo functions for modals and toasts
function showDemoModal() {
  if (typeof GroveModal !== 'undefined') {
    const modal = GroveModal.create({
      title: 'Demo Modal',
      content: 'This is a demonstration of the Wave modal component with professional styling and accessibility features.',
      footer: '<button class="btn btn-primary" onclick="this.closest(\'.grove-modal\').remove()">Close</button>'
    });
    modal.open();
  } else {
    alert('Demo Modal - GroveModal component not loaded');
  }
}

function showConfirmModal() {
  if (typeof GroveModal !== 'undefined') {
    GroveModal.confirm({
      title: 'Confirm Action',
      message: 'Are you sure you want to proceed with this action?'
    }).then(confirmed => {
      if (confirmed) {
        showSuccessToast('Action confirmed!');
      }
    });
  } else {
    alert('Confirm Dialog - GroveModal component not loaded');
  }
}

function showAlertModal() {
  if (typeof GroveModal !== 'undefined') {
    GroveModal.alert({
      title: 'Alert',
      message: 'This is an alert message using the Wave modal system.'
    });
  } else {
    alert('Alert Dialog - GroveModal component not loaded');
  }
}

function showSuccessToast(message = 'Operation completed successfully!') {
  if (typeof GroveToast !== 'undefined') {
    GroveToast.success(message).show();
  } else {
    alert('Success: ' + message);
  }
}

function showWarningToast() {
  if (typeof GroveToast !== 'undefined') {
    GroveToast.warning('This is a warning notification with auto-dismiss.').show();
  } else {
    alert('Warning: This is a warning notification');
  }
}

function showErrorToast() {
  if (typeof GroveToast !== 'undefined') {
    GroveToast.error('An error occurred. Please try again.').show();
  } else {
    alert('Error: An error occurred');
  }
}

// Grove Headbar Demo Functions
function demoThemeToggle() {
  const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  
  if (newTheme === 'dark') {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
  
  localStorage.setItem('theme', newTheme);
  console.log('Theme toggled to:', newTheme);
}

function demoNotificationUpdate(count) {
  // This would update the notification count in a real implementation
  console.log('Notification count updated to:', count);
  // In a real implementation, you would:
  // const headbarComponent = ComponentRegistry.getInstance('WaveHeadbar');
  // if (headbarComponent) headbarComponent.setNotificationCount(count);
}

function demoPositionChange(position) {
  console.log('Headbar position changed to:', position);
  // In a real implementation, you would:
  // const headbarComponent = ComponentRegistry.getInstance('WaveHeadbar');
  // if (headbarComponent) headbarComponent.setPosition(position);
}
</script>
{% endblock %}