{% extends "core/layouts/base_layout.html" %}
{% load static %}

{% block page_title %}Theme System Demo{% endblock %}

{% block main_content %}
<div class="container mx-auto px-4 py-8">
  
  <!-- Page Header -->
  <div class="mb-8">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-foreground-default mb-2">
          Runtime Theme Configuration System
        </h1>
        <p class="text-foreground-muted">
          Advanced theme management with smooth transitions, customization, and user preferences
        </p>
      </div>
      
      <!-- Quick Navigation -->
      <div class="flex gap-2">
        <a href="{% url 'core:component_demo' %}" 
           class="btn btn-secondary">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
          </svg>
          Component Demo
        </a>
        <a href="{% url 'core:layout_demo' %}" 
           class="btn btn-secondary">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
          </svg>
          Layout Demo
        </a>
      </div>
    </div>
  </div>

  <!-- Theme System Overview -->
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    
    <!-- Advanced Theme Switcher -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title flex items-center">
          <span class="text-2xl mr-2">üé®</span>
          Advanced Theme Switcher
        </h3>
      </div>
      <div class="card-content">
        <p class="text-foreground-muted mb-4">
          Enhanced theme switching with preview, smooth transitions, and customization options.
        </p>
        
        <!-- Include the new theme switcher -->
        <div class="flex justify-center">
          {% include 'core/components/theme_switcher.html' %}
        </div>
        
        <div class="mt-4 text-sm text-foreground-muted">
          <ul class="space-y-1">
            <li>‚Ä¢ Preview themes on hover</li>
            <li>‚Ä¢ Smooth transitions (<200ms)</li>
            <li>‚Ä¢ Keyboard shortcuts (Ctrl+Shift+T)</li>
            <li>‚Ä¢ Import/export configurations</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Theme Features -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title flex items-center">
          <span class="text-2xl mr-2">‚ö°</span>
          Performance Features
        </h3>
      </div>
      <div class="card-content">
        <div class="space-y-3">
          <div class="flex items-center justify-between">
            <span class="text-sm text-foreground-muted">Transition Speed</span>
            <span class="text-sm font-medium text-foreground-default">&lt;200ms</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm text-foreground-muted">Memory Usage</span>
            <span class="text-sm font-medium text-foreground-default">Minimal</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm text-foreground-muted">Storage</span>
            <span class="text-sm font-medium text-foreground-default">localStorage + Server</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="text-sm text-foreground-muted">System Integration</span>
            <span class="text-sm font-medium text-foreground-default">‚úÖ Auto-detect</span>
          </div>
        </div>
      </div>
    </div>

    <!-- API Integration -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title flex items-center">
          <span class="text-2xl mr-2">üîå</span>
          API Integration
        </h3>
      </div>
      <div class="card-content">
        <p class="text-foreground-muted mb-4">
          Full Django integration for user preferences and server-side theme management.
        </p>
        
        <div class="space-y-2 text-sm">
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-green-500 rounded-full"></span>
            <span>Theme Manager Ready</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-yellow-500 rounded-full"></span>
            <span>Django API Planned</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
            <span>User Preferences</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Theme Testing Section -->
  <div class="card mb-8">
    <div class="card-header">
      <h3 class="card-title">üß™ Theme Testing & Validation</h3>
    </div>
    <div class="card-content">
      
      <!-- Theme Colors Preview -->
      <div class="grid md:grid-cols-3 gap-6 mb-6">
        
        <!-- Light Theme Colors -->
        <div class="space-y-3">
          <h4 class="font-medium text-foreground-default">Light Theme Palette</h4>
          <div class="grid grid-cols-4 gap-2">
            <div class="h-8 bg-brand-primary rounded border" title="Primary"></div>
            <div class="h-8 bg-background-primary rounded border" title="Background"></div>
            <div class="h-8 bg-background-secondary rounded border" title="Secondary BG"></div>
            <div class="h-8 bg-background-tertiary rounded border" title="Tertiary BG"></div>
          </div>
        </div>

        <!-- Dark Theme Colors -->
        <div class="space-y-3">
          <h4 class="font-medium text-foreground-default">Dark Theme Palette</h4>
          <div class="grid grid-cols-4 gap-2">
            <div class="h-8 bg-brand-primary rounded border" title="Primary"></div>
            <div class="h-8 bg-onedark-background rounded border" title="Background"></div>
            <div class="h-8 bg-gray-800 rounded border" title="Secondary BG"></div>
            <div class="h-8 bg-gray-700 rounded border" title="Tertiary BG"></div>
          </div>
        </div>

        <!-- Darcula Theme Colors -->
        <div class="space-y-3">
          <h4 class="font-medium text-foreground-default">Darcula Theme Palette</h4>
          <div class="grid grid-cols-4 gap-2">
            <div class="h-8 bg-brand-primary rounded border" title="Primary"></div>
            <div class="h-8 bg-darcula-background rounded border" title="Background"></div>
            <div class="h-8 bg-darcula-background-lighter rounded border" title="Secondary BG"></div>
            <div class="h-8 bg-gray-600 rounded border" title="Tertiary BG"></div>
          </div>
        </div>
      </div>

      <!-- Component Testing -->
      <div class="grid md:grid-cols-2 gap-6">
        
        <!-- Form Elements -->
        <div class="space-y-4">
          <h4 class="font-medium text-foreground-default">Form Elements</h4>
          
          <div class="space-y-3">
            <input type="text" 
                   placeholder="Text input" 
                   class="form-input w-full">
            
            <select class="form-select w-full">
              <option>Select option</option>
              <option>Option 1</option>
              <option>Option 2</option>
            </select>
            
            <label class="flex items-center gap-2">
              <input type="checkbox" class="form-checkbox">
              <span class="text-foreground-default">Checkbox option</span>
            </label>
            
            <div class="flex gap-2">
              <button class="btn btn-primary">Primary Button</button>
              <button class="btn btn-secondary">Secondary</button>
            </div>
          </div>
        </div>

        <!-- UI Components -->
        <div class="space-y-4">
          <h4 class="font-medium text-foreground-default">UI Components</h4>
          
          <div class="space-y-3">
            <!-- Alert/Notification -->
            <div class="bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-3">
              <p class="text-sm text-brand-primary font-medium">
                ‚úÖ Theme system successfully loaded
              </p>
            </div>
            
            <!-- Badge -->
            <div class="flex gap-2">
              <span class="badge badge-primary">Primary</span>
              <span class="badge badge-secondary">Secondary</span>
              <span class="badge badge-success">Success</span>
            </div>
            
            <!-- Progress -->
            <div class="space-y-2">
              <div class="flex justify-between text-sm">
                <span class="text-foreground-muted">Theme loading</span>
                <span class="text-foreground-default">100%</span>
              </div>
              <div class="w-full bg-background-secondary rounded-full h-2">
                <div class="bg-brand-primary h-2 rounded-full w-full"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Implementation Guide -->
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">üõ†Ô∏è Implementation Guide</h3>
    </div>
    <div class="card-content">
      
      <div class="grid md:grid-cols-2 gap-6">
        
        <!-- Usage Examples -->
        <div>
          <h4 class="font-medium text-foreground-default mb-3">JavaScript API Usage</h4>
          
          <pre class="bg-background-secondary rounded-lg p-4 text-sm overflow-x-auto"><code class="language-javascript">// Access theme manager
const themeManager = window.HydroMLThemeManager;

// Set theme programmatically
await themeManager.setTheme('dark');

// Toggle themes
await themeManager.toggleTheme();

// Preview theme without applying
themeManager.previewTheme('darcula');

// Subscribe to theme changes
themeManager.subscribe((event, data) => {
  console.log('Theme changed:', data.theme);
});

// Get current theme info
const current = themeManager.getCurrentTheme();
console.log(current.name, current.colors);
</code></pre>
        </div>

        <!-- Alpine.js Integration -->
        <div>
          <h4 class="font-medium text-foreground-default mb-3">Alpine.js Component</h4>
          
          <pre class="bg-background-secondary rounded-lg p-4 text-sm overflow-x-auto"><code class="language-html"><!-- Include the theme controller -->
&lt;div x-data="themeController"&gt;
  
  &lt;!-- Simple theme toggle --&gt;
  &lt;button @click="toggleTheme()"
          :disabled="isTransitioning"&gt;
    &lt;span x-text="getThemeIcon(currentTheme)"&gt;&lt;/span&gt;
    Toggle Theme
  &lt;/button&gt;
  
  &lt;!-- Theme selector --&gt;
  &lt;select @change="setTheme($event.target.value)"&gt;
    &lt;template x-for="theme in availableThemes"&gt;
      &lt;option :value="theme.value" 
              x-text="theme.name"
              :selected="theme.current"&gt;
      &lt;/option&gt;
    &lt;/template&gt;
  &lt;/select&gt;
  
&lt;/div&gt;
</code></pre>
        </div>
      </div>

      <!-- Features List -->
      <div class="mt-6 pt-6 border-t border-border-default">
        <h4 class="font-medium text-foreground-default mb-3">üéØ Feature Highlights</h4>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="space-y-2">
            <h5 class="text-sm font-medium text-foreground-default">Performance</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ &lt;200ms transitions</li>
              <li>‚Ä¢ Minimal memory usage</li>
              <li>‚Ä¢ Optimized CSS loading</li>
              <li>‚Ä¢ No FOUC (Flash of Unstyled Content)</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium text-foreground-default">User Experience</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ Smooth transitions</li>
              <li>‚Ä¢ Preview before apply</li>
              <li>‚Ä¢ Keyboard shortcuts</li>
              <li>‚Ä¢ System preference detection</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium text-foreground-default">Persistence</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ localStorage storage</li>
              <li>‚Ä¢ Django user preferences</li>
              <li>‚Ä¢ Import/export configs</li>
              <li>‚Ä¢ Cross-session sync</li>
            </ul>
          </div>
          
          <div class="space-y-2">
            <h5 class="text-sm font-medium text-foreground-default">Customization</h5>
            <ul class="text-sm text-foreground-muted space-y-1">
              <li>‚Ä¢ Color customization</li>
              <li>‚Ä¢ Theme validation</li>
              <li>‚Ä¢ API integration ready</li>
              <li>‚Ä¢ Extensible architecture</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}