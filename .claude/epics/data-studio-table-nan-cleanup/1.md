# Task #1: UI Architecture Research

**Epic**: PRD: data-studio-complete-data-manipulation-tool  
**Phase**: Foundation (Week 1)  
**Estimated Effort**: 4 hours  
**Dependencies**: Grove Design System analysis  

## Objective
Evaluate where to place Data Studio manipulation tools: contextual headbar toolbar vs Wave-style sidebar vs page-level toolbar

## Scope
Research existing Grove navigation patterns to determine optimal placement for Data Studio tools (formulas, NaN cleanup, export, column management) without disrupting main navigation (Dashboard, Data Sources, Experiments, Workspaces)

## Current Grove Architecture Analysis

### Headbar Structure (base_main.html)
- **Row 1** (h-20): Logo + Breadcrumb + Search + Quick Actions + User Controls  
- **Row 2** (h-12): Main Navigation Tabs (Dashboard, Workspaces, Data Sources, Experiments)
- **Available Space**: Right side of Row 2 after main tabs

### Existing Patterns
- **Side Panels**: Upload panel, New Experiment panel (fixed inset-y-0 right-0)
- **Quick Actions**: Dropdown in Row 1 with + icon
- **Page Actions**: `{% block header_actions %}` area (line 461)

## UI Options Evaluation

### Option 1: Contextual Toolbar in Headbar Row 2
**Location**: Right side of navigation tabs row  
**Pros**: Always visible, follows GitHub pattern, space available  
**Cons**: Limited horizontal space, need responsive behavior  

### Option 2: Wave-Style Sidebar Panel  
**Location**: Similar to existing upload/experiment panels  
**Pros**: Ample space, existing pattern, can be contextual  
**Cons**: Takes screen real estate, requires toggle

### Option 3: Page-Level Toolbar
**Location**: In `{% block header_actions %}` per page  
**Pros**: Page-specific, doesn't affect global navigation  
**Cons**: Only visible on specific pages, inconsistent placement

## Deliverables
- [ ] Grove navigation pattern documentation
- [ ] Space availability analysis for each option  
- [ ] Responsive behavior assessment
- [ ] Recommendation with technical rationale

## Acceptance Criteria
- [ ] Clear architectural decision documented
- [ ] Technical implementation approach defined
- [ ] Grove design system compliance confirmed  
- [ ] Responsive design considerations addressed

## Implementation Notes
- Maintain existing main navigation (Dashboard, Workspaces, Data Sources, Experiments)
- Follow Grove design tokens and component patterns
- Consider mobile responsiveness and keyboard navigation
- Evaluate integration with existing Alpine.js state management

---
*Generated from epic: .claude/epics/data-studio-table-nan-cleanup/epic.md*
*Created: 2025-08-22*
