---
name: Implement Configurable Session Timeout System
status: open
created: 2025-08-23T21:00:00Z
updated: 2025-08-23T21:00:00Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: Implement Configurable Session Timeout System

## Description
Replace the hardcoded 4-hour session timeout with a configurable system that allows per-user preferences and admin-defined defaults. Add session extension capabilities and user-friendly timeout warnings.

## Acceptance Criteria
- [ ] Remove hardcoded 4-hour timeout from session_manager.py (line 22)
- [ ] Implement admin-configurable default timeout settings
- [ ] Add user preference model for personal timeout settings
- [ ] Implement session extension mechanism (refresh TTL)
- [ ] Add timeout warning system (e.g., 5 minutes before expiry)
- [ ] Create admin interface for timeout management
- [ ] Add API endpoints for timeout management
- [ ] Update frontend to show timeout status and extension options

## Technical Details
- **Files to modify**:
  - `data_tools/services/session_manager.py` (remove hardcoded timeout)
  - New model for user session preferences
  - Admin interface for timeout configuration
  - API endpoints for timeout management
  - Frontend session status components
- **Configuration levels** (priority order):
  1. User personal preference (if set)
  2. Admin-defined default for organization
  3. System default (fallback)
- **Implementation approach**:
  - Django settings for system defaults
  - User model extension for preferences
  - Redis TTL management with refresh capability
  - Background task for timeout warnings
  - WebSocket or polling for real-time timeout updates

## Dependencies
- [ ] Task 001 (Architecture design) defines configuration structure
- [ ] Database migration capabilities
- [ ] Admin interface framework available
- [ ] Real-time communication method (WebSocket/polling) decided

## Effort Estimate
- Size: L
- Hours: 18-22 hours
- Parallel: true (can run alongside other implementation tasks)

## Definition of Done
- [ ] Hardcoded timeouts completely removed
- [ ] Admin can configure default session timeouts
- [ ] Users can set personal timeout preferences
- [ ] Session extension functionality works correctly
- [ ] Timeout warnings appear at appropriate times
- [ ] Admin interface for timeout management complete
- [ ] API endpoints documented and tested
- [ ] Frontend shows timeout status and allows extension
- [ ] Migration path for existing sessions implemented
- [ ] Performance impact of timeout management assessed and acceptable