# Task #2: Integrate HTML Structure with WaveHeadbar Component

**Epic**: Enhanced Grove Headbar  
**Phase**: Analysis & Integration  
**Estimated Effort**: 6-8 hours  
**Dependencies**: Task #1  

## Objective
Integrate the two-row HTML structure from `base_github_style.html` into the WaveHeadbar component while maintaining Alpine.js compatibility and component modularity.

## Scope
- Modify `WaveHeadbar.js` to support two-row architecture
- Update `createAlpineData()` method with new configuration options
- Implement HTML generation methods for both header rows
- Ensure backward compatibility with existing implementations

## Deliverables
- [ ] Updated `WaveHeadbar.js` with two-row support
- [ ] Enhanced `createAlpineData()` configuration schema
- [ ] New HTML generation methods for primary and secondary rows
- [ ] Preserved existing single-row functionality for compatibility

## Technical Details
### WaveHeadbar.js Enhancements
```javascript
// New configuration options
const defaultConfig = {
    // Existing options...
    layoutMode: 'two-row', // 'single-row', 'two-row'
    showBreadcrumbs: true,
    breadcrumbStyle: 'character-based', // '@username', etc.
    showTabCounts: true,
    tabCountsData: {
        workspaces: 0,
        datasources: 0,
        experiments: 0
    }
};
```

### New HTML Generation Methods
- `getPrimaryRowHtml()` - First row with logo, breadcrumbs, search, actions
- `getSecondaryRowHtml()` - Second row with navigation tabs and counts
- `getBreadcrumbHtml()` - Character-based breadcrumb navigation
- `getTabNavigationHtml()` - Tab structure with dynamic counts

### Alpine.js Data Structure Updates
- Add state management for two-row layout
- Implement tab navigation state tracking
- Integrate breadcrumb navigation data
- Maintain existing mobile menu functionality

## Acceptance Criteria
- [ ] WaveHeadbar supports both single-row and two-row modes
- [ ] Alpine.js data structure includes new navigation state
- [ ] HTML generation methods produce valid, accessible markup
- [ ] Component maintains backward compatibility
- [ ] CSS classes match existing `base_github_style.html` patterns

## Implementation Notes
- Use feature flags to enable/disable two-row mode
- Ensure all HTML generation follows existing security patterns
- Maintain Alpine.js reactivity for dynamic updates
- Test with existing `grove_demo.html` to ensure no regressions